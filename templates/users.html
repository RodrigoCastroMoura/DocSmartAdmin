{% extends "base.html" %}

{% block content %}
<!-- Previous content remains the same until line 77 -->
<div class="form-group">
    <label for="userPhone">Phone (Optional)</label>
    <input type="text" id="userPhone" name="phone" data-mask="(00) 00000-0000" maxlength="15">
</div>
<div class="form-group">
    <label for="userPassword">Password</label>
    <input type="password" id="userPassword" name="password" required>
</div>
<div class="form-group">
    <label for="userPasswordConfirm">Confirm Password</label>
    <input type="password" id="userPasswordConfirm" name="password_confirm" required>
</div>
<div class="form-group">
    <label for="userRole">Role</label>
    <select id="userRole" name="role" required>
        <option value="user">User</option>
        <option value="admin">Admin</option>
    </select>
</div>
<!-- Continue with modal-actions -->

<script>
// Setup form validation with new rules
setupFormValidation('addUserForm', {
    'userName': [
        ValidationRules.required,
        ValidationRules.minLength(3),
        ValidationRules.maxLength(50)
    ],
    'userEmail': [
        ValidationRules.required,
        ValidationRules.email
    ],
    'userCPF': [
        ValidationRules.required,
        ValidationRules.cpf
    ],
    'userPassword': [
        ValidationRules.required,
        ValidationRules.minLength(6)
    ],
    'userPasswordConfirm': [
        ValidationRules.required,
        ValidationRules.passwordMatch
    ]
});

setupFormValidation('editUserForm', {
    'editUserName': [
        ValidationRules.required,
        ValidationRules.minLength(3),
        ValidationRules.maxLength(50)
    ],
    'editUserEmail': [
        ValidationRules.required,
        ValidationRules.email
    ],
    'editUserCPF': [
        ValidationRules.required,
        ValidationRules.cpf
    ]
});

// Rest of the JavaScript code remains the same
</script>

<style>
/* Previous styles remain the same */

/* Updated modal styles */
.modal {
    padding: 1rem;
}

.modal-content {
    max-width: 400px;
    width: 90%;
    margin: 2rem auto;
    padding: 1.5rem;
    background-color: var(--bg-secondary);
    border-radius: 8px;
}

.form-group {
    margin-bottom: 1rem;
}

.form-group input,
.form-group select {
    padding: 0.5rem;
    width: 100%;
    background-color: var(--bg-tertiary);
    border: 1px solid transparent;
    border-radius: 4px;
    color: var(--text-primary);
    transition: all 0.2s ease;
}

.modal-actions {
    display: flex;
    justify-content: flex-end;
    gap: 1rem;
    margin-top: 1.5rem;
}

/* Dark theme focus styles */
.form-group input:focus,
.form-group select:focus {
    border-color: var(--accent-color);
    outline: none;
}
</style>
{% endblock %}
