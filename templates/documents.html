{% extends "base.html" %}

{% block content %}
<!-- Previous HTML content remains the same -->
<script>
// Previous JavaScript functions remain the same

async function createDocument(event) {
    event.preventDefault();
    const form = event.target;
    const submitButton = form.querySelector('button[type="submit"]');
    
    if (!validateForm(form)) {
        return;
    }
    
    const formData = new FormData(form);
    showLoading(submitButton);

    try {
        const response = await fetch('/api/documents', {
            method: 'POST',
            body: formData
        });

        const data = await response.json();
        
        if (!response.ok) {
            throw new Error(data.error || 'Failed to create document');
        }

        hideModal('addDocumentModal');
        form.reset();
        await loadDocuments(currentPage);
        showErrorMessage('Document uploaded successfully', 'success');
    } catch (error) {
        console.error('Error creating document:', error.message || error);
        showErrorMessage(error.message || 'Failed to create document');
    } finally {
        hideLoading(submitButton);
    }
}

// Rest of the JavaScript functions remain the same
</script>

<!-- Rest of the HTML and CSS content remains the same -->
{% endblock %}
